@using ExamenAdam.Entities
@using ExamenAdam.Identity.Entities
@using Microsoft.AspNetCore.Identity
@{
    ViewData["Title"] = "Blog";
}
@model BlogIndexModel
@inject SignInManager<User> SignInManager


<div style="display: flex; flex-direction:column; align-items:center">
    @foreach (KeyValuePair<Post, string> kvp in @Model.PostWithDescription)
        {
            <ul style="font-size: 30px">
                <a asp-controller="Home" asp-action="BlogPost" asp-route-id="@kvp.Key.Id">
                    <h3>@kvp.Key.Title</h3>
                    <h4><i>Author: @kvp.Key.User.UserName</i></h4>
                </a>  
                @kvp.Value
            </ul>
            <hr />
        }
</div>

@if (SignInManager.IsSignedIn(User))
{
    <div>
        <br><br>
        <a asp-controller="Home" asp-action="CreateBlogPost">
            <h3>Create a new blogpost</h3>        
        </a>
    </div>
}